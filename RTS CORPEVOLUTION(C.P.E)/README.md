Давайте разберем последовательность выполнения вашего кода и описание передаваемых значений:

1. **Импорт библиотек**:
   - `pygame` для создания игры.
   - `os` для работы с файловой системой.
   - `random` для генерации случайных значений.

2. **Функция `check_files`**:
   - Принимает `directory` (путь к каталогу) и `extensions` (список расширений файлов).
   - Возвращает список файлов с указанными расширениями в каталоге.

3. **Поиск файлов**:
   - Задается путь к спрайтам и расширения файлов.
   - Вызывается функция `check_files`, и результат сохраняется в `found_files`.

4. **Инициализация Pygame и настройка окна**:
   - Устанавливаются размеры окна, цвета и шрифты.

5. **Классы `Forest`, `Map`, `Base`, `Button`, `Applet`, `MainMenu`**:
   - Описывают различные элементы игры, такие как леса, карта, базы, кнопки, апплет и главное меню.

6. **Функция `is_overlapping`**:
   - Проверяет перекрытие объектов на карте.

7. **Функция `create_resources_around_base`**:
   - Создает ресурсы вокруг базы, учитывая перекрытие.

8. **Инициализация игровых объектов**:
   - Создаются базы, ресурсы и карта.

9. **Основной игровой цикл**:
   - Обрабатываются события Pygame, такие как нажатия кнопок и закрытие окна.
   - В зависимости от состояния игры (`game_state`), отображается либо главное меню, либо игровой экран.
   - В игровом режиме обновляются ресурсы базы игрока и отрисовываются все игровые объекты.

10. **Выход из Pygame**:
    - При завершении игры вызывается `pygame.quit()`.

В коде используются следующие **ключевые значения**:
- `screen_width` и `screen_height` определяют размеры игрового окна.
- `BLACK`, `WHITE`, `GREY`, `BEIGE`, `PANEL` - цвета, используемые для отрисовки элементов.
- `font` и `menu_font` - шрифты для текста.
- `base_image_path1`, `base_image_path2`, `industry_image_path`, `surie_image_path`, `forest_image_path` - пути к изображениям, используемым в игре.

Каждый класс имеет методы для отрисовки своих элементов и обработки событий. Например, класс `Base` имеет метод `produce_resources` для производства ресурсов и метод `draw_upgrade_window` для отображения окна улучшений.

Если у вас есть конкретные вопросы по частям кода или требуется дополнительная помощь, пожалуйста, сообщите мне об этом! 
